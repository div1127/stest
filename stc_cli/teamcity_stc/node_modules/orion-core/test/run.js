const Jasmine = require('jasmine');
const jasmine = new Jasmine();

jasmine.loadConfig({
    spec_dir: 'test',
    spec_files: [
        'spec/**/*.test.js'
    ],
    helpers: [
        'helper/jasmine-co.js'
    ],
    stopSpecOnExpectationFailure: false,
    random: false
});

jasmine.jasmine.DEFAULT_TIMEOUT_INTERVAL = 5000;

var Reporter;
if (typeof process.env.TEAMCITY_VERSION !== 'undefined') {
    console.log('Using TeamCity reporter');
    Reporter = require('jasmine-reporters').TeamCityReporter;
} else {
    console.log('Using terminal reporter');
    Reporter = require('jasmine-terminal-reporter');
}

console.log('Initializing reporter')
jasmine.env.clearReporters();
jasmine.addReporter(new Reporter());
 
jasmine.execute();
