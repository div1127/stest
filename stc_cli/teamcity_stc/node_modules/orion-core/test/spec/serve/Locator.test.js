"use strict";

describe('xpath', () => {
    
    const { createDom } = require('../../helper/jsdom-util');
    
    beforeEach(() => {
        var dom = createDom(`
                <body>
                    <div id='foo'></div>
                    <div id='bar'></div>
                </body>`);
        
        this.window = dom.window;
    });

    describe('allowing multiples', () => {
        
        it('should return multiples', () => {
            var window = this.window,
                document = window.document,
                _ST = window.ST,
                result, div1, div2;
            
            result = _ST.Locator.find('//div', null, null, null, true);
            
            div1 = document.querySelector('div#foo'),
            div2 = document.querySelector('div#bar');

            expect(result).toEqual([div1,div2]);
        });
        
    });
    
    describe('NOT allowing multiples', () => {
        
        it('should throw an error', () => {
            var _ST = this.window.ST;
            expect(() => { 
                _ST.Locator.find('//div') 
            }).toThrow();
        });
        
    });
    
});
