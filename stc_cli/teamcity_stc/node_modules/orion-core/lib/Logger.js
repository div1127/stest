"use strict";function _interopRequireDefault(a){return a&&a.__esModule?a:{"default":a}}function _normalizeLevel(a){var b=a;if("string"==typeof a&&(a=a.toUpperCase(),a=_levels[a]),null==a)throw new Error("Unknown log level: "+b);return a}function Logger(a,b,c,d){function e(a){var c=this,d=+new Date;c.tack=function(c){if(!(b<k)){var e=+new Date,f=e-d;d=e,a.trace("["+f+"ms] "+c)}}}function f(d,e){var f,g=d;if(d=_normalizeLevel(d),d<=b){for(var h=0;h<e.length;h++){var j=e[h];null==j?j=""+j:"object"===("undefined"==typeof j?"undefined":(0,_typeof3["default"])(j))&&(j=(0,_stringify2["default"])(j).substring(0,512)+"..."),e[h]=j}return f=[].join.call(e," "),f="["+g+"] "+(a?"["+a+"] ":"")+f,c.forEach(function(a){try{a.call(i,d,f)}catch(b){console.error(b)}}),!0}}var g,h,i=this,j=[],k=_levels.TICK,l=[];b=_normalizeLevel(b),c=c&&c.slice?c.slice():[];for(h in _levels){var m=h.toLowerCase();i[m]=i[_levels[h]]=function(){var a=h;return function(){return f(a,arguments)}}()}i.print=function(a){c.forEach(function(b){b.call(i,"INFO",a)})},i.tick=function(){return g=new e(i)},i.tack=function(){return g?g.tack.apply(this,arguments):this.error("Logger.tack() must be invoked after Logger.tick()")},i.forClass=function(a){var d=new Logger(a,b,c,i);return j.push(d),d},i.forObject=function(a,b){return this.forClass(a+"-"+(b||++_objectIdSeed))},i.getLevel=function(){return b},i.setLevel=function(c,d){c=_normalizeLevel(c),(!d||a&&a.indexOf(d)>=0)&&(b=c),l.forEach(function(a){a.call(this,c,d)}),j.forEach(function(a){a.setLevel(c,d)})},i.addHandler=function(a){c.push(a),j.forEach(function(b){b.addHandler(a)})},i.onLevelChange=function(a){l.push(a)},i.destroy=function(){d._removeChild(i)},i._removeChild=function(a){var b=j.indexOf(a);b>=0&&j.splice(b,1)}}var _stringify=require("babel-runtime/core-js/json/stringify"),_stringify2=_interopRequireDefault(_stringify),_typeof2=require("babel-runtime/helpers/typeof"),_typeof3=_interopRequireDefault(_typeof2),_levels={ERROR:0,WARN:1,INFO:2,DEBUG:3,TRACE:4,TICK:5,BABBLE:6,LOQUACIOUS:7},_objectIdSeed=0,_instance=new Logger(null,"INFO");Logger.getInstance=function(){return _instance},module.exports=Logger;