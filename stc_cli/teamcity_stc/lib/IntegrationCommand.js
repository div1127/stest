"use strict";function _interopRequireDefault(a){return a&&a.__esModule?a:{"default":a}}var _getPrototypeOf=require("babel-runtime/core-js/object/get-prototype-of"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=require("babel-runtime/helpers/classCallCheck"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require("babel-runtime/helpers/createClass"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=require("babel-runtime/helpers/inherits"),_inherits3=_interopRequireDefault(_inherits2),Base=require("orion-core/lib/Base"),Client=require("orion-core/lib/archive/Client"),logger=require("orion-core/lib/Logger").getInstance().forClass("IntegrationCommand"),util=require("util"),IntegrationCommand=function(a){function b(){return(0,_classCallCheck3["default"])(this,b),(0,_possibleConstructorReturn3["default"])(this,(b.__proto__||(0,_getPrototypeOf2["default"])(b)).apply(this,arguments))}return(0,_inherits3["default"])(b,a),(0,_createClass3["default"])(b,[{key:"execute",value:function(){logger.trace("_execute");var a=this,b=a.server,c=a.protocol,d=a.host,e=a.port,f=a.username,g=a.project,h=!(!a.argv||!a.argv["delete"]),i=void 0,j=void 0;i=h?"Removed credentials for %s":"Updated credentials for %s",j=new Client({server:b}),j.saveConnection({protocol:c,host:d,port:e,username:f,project:g,type:a.almType,shouldDelete:h}).then(function(){logger.info(util.format(i,a.almType))})}}]),b}(Base);module.exports=IntegrationCommand;